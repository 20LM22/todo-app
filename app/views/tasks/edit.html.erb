<div id="outer-wrapper" class="mb-2 bg-info-subtle text-info-emphasis">

<h1>To-do List</h1>

<div class="all-tasks container">
<% @tasks.each do |task| %>
    <div class="wrapper">

        <% if @task == task %>
         
            <%= check_box_tag "new-check", task.checked, class: "checkbox", disabled: true %>
           <div class="input-box">
               <%= form_for(@task) do |f| %>
                   <%= f.text_field :task_description, class: "new-task", id: "edit-input-box" %>
                   <%= f.submit "Update task", :type => :image, :src => "/images/accept_icon.png", id: "update-task-btn" %>
               <% end %>
           </div>
           <div class="cancel-box">   
               <%= link_to image_tag("/images/cancel_icon.png"), root_path, class: "cancel" %>
           </div>

        <% else %>

            <%= check_box_tag task.id, "val", task.checked, disabled: true, class: "checkbox" %>

            <label id=label-<%= task.id %> for=<%= task.id %>><%= task.task_description %></label>
            <%= link_to image_tag("/images/delete_icon.png"), task, data: {
                turbo_method: :delete,
            }, class: "delete-link" %>
            <%= link_to image_tag("/images/edit_icon.png"), edit_task_path(task), class: "edit-link" %>            
        
        <% end %>

    </div>
<% end %>

</div>

</div>

<footer class="bg-info text-center text-lg-start fixed-bottom">
    <p>Last Updated: 07/05/24</p>
</footer>

<%= javascript_include_tag 'onload.js', 'data-turbo-track': 'reload', defer: true %>